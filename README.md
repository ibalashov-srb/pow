## <b>Клиент и сервер для примера работы алгоритма Proof of Work.</b>

Задача была сделать TCP сервер на go который был бы защищен от DDoS атак посредством алгоритма Proof of Work. 
На выбор алгоритма повлияло несколько критериев 
1) Должен быть простым для понимания 
2) СО стороны сервера должен отрабатывать максимально быстро так как нет смысла делать проверку точно такую же по времени, как и сам расчет.

Выбор пал на подсчет SHA256 с конкретным количеством лидирующих нулей в хеше. Насколько я понимаю данный подход используется так же в Bitcoin. Только там речь идет о другом количестве лидирующих нулей.
И того что мы имеем - Клиент получает сообщение вида `123:5` где:
`123` - рандомно сгенерированный ключ
`5` - количество лидирующих нулей

В ответ клиент вернет сообщение вида `hash:142515` где:
`hash` - сам хеш полученный клиентом
`142515` - количество попыток которое потребовалось клиенту для генерации хеша

Сервер в свою очередь используются точно такой же метод как и клиент просто генерит хеш от `123` и `142515` и проверяет что результирующий хеш равен тому что ему прислали.

От сюда получаем что клиенту потребовалось `142515` операций генераций хеша для нахождения верного варианта в то время как серверу всего один раз надо посчитать хеш что б убедиться что клиент сгенерил верный хеш.

В конце отправляется одна из десяти рандомных фраз.

Код писал низкоуровнево, так как не вижу смысла делать кучу абстракций и задача была поставлена другая.

Цитаты хранятся в коде так как тоже решил не заморачиваться. Если потребуется, то вынести их в файл займет от силы минут 15

Приложение конфигурируется при помощи переменных окружений
```
HOST=127.0.0.1
PORT=8080
TIMEOUT=10s
LEADING_ZEROS=4
RANDOM_RANGE=10000
```
Для клиента потребуется только первых три переменных окружения
### Сборка и использование контейнеров

Сделаем свою сеть используя докер 
```shell
docker network create pow_network
```
Для того что бы собрать сервер воспользуйтесь командой ниже
```shell
docker build -f Dockerfile_server -t pow_server .
```

Для запуска сервера используйте данную команду
```shell
docker run -p 8080:8080 -d --name pow_server --network=pow_network pow_server
```

Проверить что отдал клиент можно логами
```shell
docker logs pow_server
```

Для того что бы выключить контейнер используйте данную команду 
```shell
docker stop pow_server
```

Удаляем неиспользованный контейнер
```shell
docker rm pow_server
```

Для того что бы собрать клиент воспользуйтесь командой ниже
```shell
docker build -f Dockerfile_client -t pow_client .
```

Для запуска клиента используйте данную команду
```shell
docker run -d --name pow_client --network=pow_network --env HOST=pow_server pow_client
```

Проверить что отдал клиент можно логами 
```shell
docker logs pow_client
```

Для того что бы выключить контейнер используйте данную команду
```shell
docker stop pow_client
```

Удаляем неиспользованный контейнер
```shell
docker rm pow_client
```

Так же можно воспользоваться docker compose файлом
```shell
docker-compose up -d 
```

Все команды выполнять из корня проекта